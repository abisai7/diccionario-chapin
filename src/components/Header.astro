
---
const { title = "Diccionario Chapín" } = Astro.props;
---
<header class="max-w-[1100px] mx-auto px-6 py-4 flex items-center justify-between gap-4">
  <div class="flex items-center gap-2.5 font-bold text-lg">
    <svg width="26" height="26" viewBox="0 0 24 24" fill="none" aria-hidden="true">
      <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" style="color: var(--primary)"/>
      <circle cx="12" cy="12" r="6" fill="var(--primary)" style="opacity: 0.9"/>
    </svg>
    <span>{title}</span>
    <span 
      class="px-2.5 py-1 font-semibold text-sm"
      style="background: var(--glow-primary); border: 1px solid var(--primary); color: var(--primary); border-radius: var(--radius-full)"
    >
      GT
    </span>
  </div>
  <nav class="flex items-center gap-2">
    <a 
      href="/" 
      class="px-3 py-2 border border-transparent transition-all duration-200"
      style="border-radius: var(--radius-md); &:hover { background: var(--card-hover); border-color: var(--border) }"
    >
      Inicio
    </a>
    <a 
      href="/indice" 
      class="px-3 py-2 border border-transparent transition-all duration-200"
      style="border-radius: var(--radius-md); &:hover { background: var(--card-hover); border-color: var(--border) }"
    >
      Índice
    </a>
    <a 
      href="/buscar" 
      class="px-3 py-2 border border-transparent transition-all duration-200"
      style="border-radius: var(--radius-md); &:hover { background: var(--card-hover); border-color: var(--border) }"
    >
      Buscador
    </a>
    <button 
      id="theme-toggle" 
      class="inline-flex items-center gap-2 px-2.5 py-2 cursor-pointer transition-all duration-200"
      style="border: 1px solid var(--border); background: var(--glow-primary); border-radius: var(--radius-md); &:hover { background: var(--card-hover) }" 
      type="button" 
      aria-label="Cambiar tema"
    >
      <svg id="moon" class="block" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 1 0 9.79 9.79Z"/></svg>
      <svg id="sun" class="hidden" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M12 18a6 6 0 1 0 0-12 6 6 0 0 0 0 12Zm0 4a1 1 0 0 1-1-1v-1.5a1 1 0 1 1 2 0V21a1 1 0 0 1-1 1ZM12 0a1 1 0 0 1 1 1v1.5a1 1 0 1 1-2 0V1a1 1 0 0 1 1-1Zm12 13a1 1 0 1 1 0-2h-1.5a1 1 0 1 1 0 2H24ZM1.5 13a1 1 0 1 1 0-2H0a1 1 0 1 1 0 2h1.5Zm18.01 7.49a1 1 0 0 1-1.41 0l-1.06-1.06a1 1 0 1 1 1.41-1.41l1.06 1.06a1 1 0 0 1 0 1.41ZM6.96 6.96a1 1 0 0 1-1.41 0L4.49 5.9A1 1 0 1 1 5.9 4.49l1.06 1.06a1 1 0 0 1 0 1.41Z"/></svg>
    </button>
  </nav>
  <script is:inline>
    const el = document.documentElement;
    const saved = localStorage.getItem('theme') || 'dark';
    el.setAttribute('data-theme', saved);
    const btn = document.getElementById('theme-toggle');
    const m = document.getElementById('moon');
    const s = document.getElementById('sun');
    function updateIcons(){
      const t = el.getAttribute('data-theme');
      if(t === 'light'){ s.classList.remove('hidden'); m.classList.add('hidden'); }
      else { s.classList.add('hidden'); m.classList.remove('hidden'); }
    }
    updateIcons();
    btn?.addEventListener('click', () => {
      const next = el.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
      el.setAttribute('data-theme', next);
      localStorage.setItem('theme', next);
      updateIcons();
    });
  </script>
</header>
