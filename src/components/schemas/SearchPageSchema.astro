---
import { useTranslations } from "../../utils/i18n";

interface Props {
  lang: string;
  siteUrl: string | URL;
  title: string;
  description: string;
  url: string;
}

const { lang, siteUrl, title, description, url } = Astro.props;
const t = useTranslations(lang);

const searchPageSchema = {
  "@context": "https://schema.org",
  "@type": "SearchResultsPage",
  name: title,
  description: description,
  url: new URL(url, siteUrl).toString(),
  inLanguage: lang,
  mainEntity: {
    "@type": "WebSite",
    name: t("schema.site.name"),
    url: siteUrl.toString(),
  },
};
---

<script type="application/ld+json" set:html={JSON.stringify(searchPageSchema)} />
